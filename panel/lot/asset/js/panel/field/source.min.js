/*!
 * ==============================================================
 *  TEXT EDITOR 3.1.4
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(t,n,e){function r(t){return t.length}function i(t){return t instanceof Array}function u(t){return"function"==typeof t}function o(t){return t instanceof RegExp?t.source||!0:!1}function a(t){return void 0!==t}function c(t){return"string"==typeof t}function f(n){if(i(n)){var r,u=[];for(r in n)u[r]=f(n[r]);return u}return n[x](s("["+t[e].x[x](/./g,"\\$&")+"]","g"),"\\$&")}function s(t,n){return o(t)||RegExp(t,n)}function l(t,n){return t["trim"+(-1===n?"Left":1===n?"Right":"")]()}var d="__instance__",g="Selection",v="blur",p="disabled",h="focus",m="insert",b="match",y="parentNode",w="readOnly",x="replace",k="scroll",E=k+"Left",_=k+"Top",j="select",T=j+"ion",O=T+"End",S=T+"Start",L="substring",M=setTimeout;!function(e){e._=e.prototype,e.version="3.1.4",e[d]={},e.each=function(t,n){var r,i;return M(function(){i=$[d];for(r in i)t.call(i[r],r)},0===n?0:n||1),e},e.x="!$^*()-=+[]{}\\|:<>,./?",e.esc=f,e[g]=function(t,n,e){var i,u=this;u.start=t,u.end=n,u.value=i=e[L](t,n),u.before=e[L](0,t),u.after=e[L](n),u.length=r(i),u.toString=function(){return i}};var i=n.currentScript;e.path=(i&&i.src||t.location.href).split("/").slice(0,-1).join("/")}(t[e]=function($,T){function L(){return $.value[x](/\r/g,"")}if($){var M=this,C=t[e],R=/^([\s\S]*?)$/,A=n.body,N=A[y];if($[e])return M;if(T=T||{},c(T)&&(T={tab:T}),a(T.tab)||(T.tab="	"),M.state=T,!(M instanceof C))return new C($,T);C[d][$.id||$.name||r(Object.keys(C[d]))]=M,M.self=M.source=$,M.value=L(),M.get=function(){return!$[p]&&l($.value)||null},M.let=function(){return $.value=M.value,M},M.set=function(t){return $[p]||$[w]?M:($.value=t,M)},M.$=function(){var t=new C[g]($[S],$[O],L());return t},M[h]=function(t){var n,e;return-1===t?n=e=0:1===t&&(n=r(L()),e=$[k+"Height"]),a(n)&&a(e)&&($[S]=$[O]=n,$[_]=e),$[h](),M},M[v]=function(){return $[v](),M},M[j]=function(){if($[p]||$[w])return $[h](),M;var n,e,i,u=arguments,o=r(u),a=M.$();if(n=t.pageXOffset||N[E]||A[E],e=t.pageYOffset||N[_]||A[_],i=$[_],0===o)u[0]=a.start,u[1]=a.end;else if(1===o){if(!0===u[0])return $[h](),$[j](),M;u[1]=u[0]}return $[h](),$.setSelectionRange(u[0],u[1]),$[_]=i,t.scroll(n,e),M},M[b]=function(t,n){if(i(t)){var e=M.$(),r=[e.before[b](t[0]),e.value[b](t[1]),e.after[b](t[2])];return u(n)?n.call(M,r[0]||[],r[1]||[],r[2]||[]):[!!r[0],!!r[1],!!r[2]]}var r=M.$().value[b](t);return u(n)?n.call(M,r||[]):!!r},M[x]=function(t,n,e){var i=M.$(),u=i.before,o=i.after,a=i.value;return-1===e?u=u[x](t,n):1===e?o=o[x](t,n):a=a[x](t,n),M.set(u+a+o)[j](u=r(u),u+r(a))},M[m]=function(t,n,e){var r=R;return e&&M[x](r,""),-1===n?r=/$/:1===n&&(r=/^/),M[x](r,t,n)},M.wrap=function(t,n,e){var i=M.$(),u=i.before,o=i.after,a=i.value;return e?M[x](R,t+"$1"+n):M.set(u+t+a+n+o)[j](u=r(u+t),u+r(a))},M.peel=function(t,n,e){var i=M.$(),u=i.before,a=i.after,c=i.value;t=o(t)||f(t),n=o(n)||f(n);var l=s(t+"$"),d=s("^"+n);return e?M[x](s("^"+t+"([\\s\\S]*?)"+n+"$"),"$1"):l.test(u)&&d.test(a)?(u=u[x](l,""),a=a[x](d,""),M.set(u+c+a)[j](u=r(u),u+r(c))):M[j]()},M.pull=function(t,n){var e=M.$();return t=a(t)?t:T.tab,t=o(t)||f(t),a(n)||(n=!0),r(e)?n?M[x](s("^"+t,"gm"),""):M[m](e.value.split("\n").map(function(n){return s("^("+t+")*$").test(n)?n:n[x](s("^"+t),"")}).join("\n")):M[x](s(t+"$"),"",-1)},M.push=function(t,n){var e=M.$();return t=a(t)?t:T.tab,a(n)||(n=!1),r(e)?M[x](s("^"+(n?"":"(?!$)"),"gm"),t):M[m](t,-1)},M.trim=function(t,n,e,i,u){a(u)||(u=!0),null!==t&&!1!==t&&(t=t||""),null!==n&&!1!==n&&(n=n||""),null!==e&&!1!==e&&(e=e||""),null!==i&&!1!==i&&(i=i||"");var o=M.$(),c=o.before,f=o.after,s=o.value,d=l(c,1),g=l(f,-1);return c=!1!==t?l(c,1)+(d||!u?t:""):c,f=!1!==n?(g||!u?n:"")+l(f,-1):f,!1!==e&&(s=l(s,-1)),!1!==i&&(s=l(s,1)),M.set(c+s+f)[j](c=r(c),c+r(s))},M.pop=function(){return delete $[e],M}}})}(window,document,"TE"),/*!
 * ==============================================================
 *  TEXT EDITOR HISTORY 1.1.0
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(t,n,e){function r(t,n,e){return i(n)&&n>t?n:i(e)&&t>e?e:t}function i(t){return void 0!==t}var u=t[e],o=u._,a="_history",c=a+"State";o[a]=[],o[c]=-1,o.history=function(t){var n=this;return i(t)?i(n[a][t])?n[a][t]:null:n[a]},o.record=function(t){var n=this,e=n.$(),r=n[a][n[c]]||[],u=[n.self.value,e.start,e.end];return u[0]===r[0]&&u[1]===r[1]&&u[2]===r[2]?n:(++n[c],n[a][i(t)?t:n[c]]=u,n)},o.loss=function(t){var n,e=this;return!0===t?(e[a]=[],e[c]=-1,[]):(n=e[a].splice(i(t)?t:e[c],1),e[c]=r(e[c]-1,-1),n)},o.undo=function(){var t,n=this;return n[c]=r(n[c]-1,0,n[a].length-1),t=n[a][n[c]],n.set(t[0]).select(t[1],t[2])},o.redo=function(){var t,n=this;return n[c]=r(n[c]+1,0,n[a].length-1),t=n[a][n[c]],n.set(t[0]).select(t[1],t[2])}}(window,document,"TE"),/*!
 * ==============================================================
 *  TEXT EDITOR SOURCE 1.1.3
 * ==============================================================
 * Author: Taufik Nurrohman <https://github.com/taufik-nurrohman>
 * License: MIT
 * --------------------------------------------------------------
 */
!function(t,n,e){function r(t,n,e){t.removeEventListener(n,e)}function i(t,n,e){t.addEventListener(n,e,!1)}function u(t,n){return Object.assign(t,n)}function o(t){t&&t.preventDefault()}var a,c,f=t[e],s=setTimeout,l=f.esc,d="blur",g="close",v="ctrlKey",p="disabled",h="focus",m="fromCharCode",b="indexOf",y="lastIndexOf",w="keydown",x="match",$="mousedown",k="mouseup",E="pull",_="push",j="readOnly",T="record",O="redo",S="replace",L="select",M="shiftKey",C="toLowerCase",R="touch",A=R+"end",N=R+"start",D="undo";a=function(t,n){function e(){t[p]||t[j]||s(function(){var t=K.$(),n=/\W/g,e=".",r=t.before[S](n,e)[y](e),i=t.after[S](n,e)[b](e);t.value,r=0>r?0:r+1,i=0>i?t.after.length:i,H!==t.start&&K[L](r,t.end+i)},0)}function a(){H=K.$().start}function c(e){if(!t[p]&&!t[j]){var r=J[g],i=n.tab,u=e.keyCode,a=(e.key||String[m](u))[C](),c=e[v],f="enter"===a||13===u,b=(e[M],K.$()),y=b.before,w=b.value,$=b.after,k=y.slice(-1),T=$.slice(0,1),S=y[x](RegExp("(?:^|\\n)("+l(i)+"+).*$")),A=S?S[1]:"",N=r[a];c?"z"===a||90===u?(K[D](),R(),o(e)):"y"===a||89===u?(K[O](),R(),o(e)):"]"===a||221===u?(K[_](i),R(),o(e)):("["===a||219===u)&&(K[E](i),R(),o(e)):"\\"!==k&&a===T?(K[L](b.end+1),R(),o(e)):"\\"!==k&&N?(R(),K.wrap(a,N),R(),o(e)):"backspace"===a||8===u?(!w&&y[x](RegExp(l(i)+"$"))?(K[E](i),R(),o(e)):(N=r[k],N&&N===T&&(K.peel(k,T),o(e))),R()):"delete"===a||46===u?(N=r[k],N&&N===T&&(K.peel(k,T),o(e)),R()):f?(N=r[k],N&&N===T?(K.wrap("\n"+i+A,"\n"+A)[d]()[h](),o(e)):(w||A)&&(K.insert("\n",-1,!0)[_](A)[d]()[h](),o(e)),R()):s(R,0)}}function R(){I&&K[T]()}var K=this,q=K.pop,I=D in f._;f.call(K,t,n);var B="source",n=K.state,P={},z=!(B in n)||n[B];P[g]={"(":")","{":"}","[":"]",'"':'"',"'":"'","<":">"},P[L]=!0,z&&(n[B]=u(P,!0===n[B]?{}:n[B]));var H,J=n[B]||{};z&&(i(t,w,c),J[L]&&(i(t,$,e),i(t,k,a),i(t,A,a),i(t,N,e)),R()),K.pop=function(){return q.call(K),r(t,w,c),r(t,$,e),r(t,k,a),r(t,A,a),r(t,N,e),I&&K[loss](!0),K},K.state=n};for(c in f)a[c]=f[c];a.prototype=a._=f._,t[e]=a}(window,document,"TE"),function(t,n){function e(){var n,e=t.querySelectorAll(".field\\:source .textarea");e.length&&e.forEach(function(t){n=new TE(t,JSON.parse(t.getAttribute("data-state")||"{}"))})}e(),n.on("change",e)}(document,_);
