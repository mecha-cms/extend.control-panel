window.PANEL=window.jQuery,function(e,a,n){function s(e){return"#"+e.replace("#","").replace(/:/g,"\\:")}var i,r,t={};e("form").each(function(){i={},r="[name]:not([disabled])",e(this).find("button"+r+",input"+r+",select"+r+",textarea"+r).each(function(){i[this.name]=this}),t[this.id||this.name||Object.keys(t).length]=i}),e.__form__={$:t};var l=e("nav.n"),o=l.find("li:has(ul)");l.length&&(o.children("a").on("click.panel",function(){return e(this).next().fadeToggle(100),!e(this).parent().hasClass("n:+")}).on("mouseenter.panel",function(){e(this).next().fadeIn(100)}).parent().on("mouseleave.panel",function(){e(this).children("ul").fadeOut(100)}),e(n).on("click.panel",function(){var e=o.find("a+ul:visible");return!(!e||!e.fadeOut(100))}));var h,c=e(a),f=e("nav.t a"),d=f.filter(".is\\.active"),u=e("section.t-c");if(d.length||(d=f.first(),d.addClass("is.active")),f.length&&(u.hide().filter(s(d[0].hash)).show(),f.on("click.panel",function(){return e(this).addClass("is.active").siblings().removeClass("is.active"),u.hide().filter(s(this.hash)).show(),h=u.find(".CodeMirror").each(function(){c.trigger("resize.panel"),this.CodeMirror&&this.CodeMirror.refresh&&this.CodeMirror.refresh()}),!1})),-1!==a.location.href.indexOf("/::s::/")){var p="copy.panel cut.panel input.panel keydown.panel paste.panel";e.f=function(e,a,n){return a=a||"-",n&&(e=e.toLowerCase()),e=e.replace(/<.*?>|&(?:[a-z\d]+|#\d+|#x[a-f\d]+);/gi,"").replace(new RegExp("[^a-z\\d"+a+"]","gi"),a).replace(new RegExp("["+a+"]+","gi"),a).replace(new RegExp("^["+a+"]|["+a+"]$","gi"),"")};var w,g=e("[data-key-i]:not([readonly])"),v=e("[data-key-o]:not([readonly])");g&&v&&g.closest("form").on(p,"[data-key-i]",function(a){var n=e(a.target);w||(w=v.filter('[data-key-o="'+n.data("key-i")+'"]')),w.val(e.f(n.val(),"_",!0))});var w,m=e("[data-slug-i]:not([readonly])"),y=e("[data-slug-o]:not([readonly])");m&&y&&m.closest("form").on(p,"[data-slug-i]",function(a){var n=e(a.target);w||(w=y.filter('[data-slug-o="'+n.data("slug-i")+'"]')),w.val(e.f(n.val(),"-",!0))})}var k=e(".c"),C=e('select[name="type"]');k&&C&&C.on("change.panel input.panel",function(){k[0].className=k[0].className.replace(/(^|\s)page\.type:\S+(\s|$)/g,"$1$2"),k.addClass("page.type:"+this.value.replace(/[A-Z]/g,function(e,a){return"-"+e.toLowerCase()}).replace(/^-+|-+$/g,""))}).trigger("change.panel")}(window.PANEL,window,document);