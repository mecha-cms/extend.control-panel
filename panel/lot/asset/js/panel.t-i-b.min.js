!function(e,t){function p(e){return"undefined"!=typeof e}function m(e){return Object.keys(e).length}var n="__instance__",r=setTimeout,i="parentNode",a="setAttribute",o="getAttribute",c="appendChild",s="removeChild",l="innerHTML",f="textContent",d="className",h="toLowerCase";!function(e){e.version="2.0.3",e[n]={},e.each=function(t,i){return r(function(){var i,r=e[n];for(i in r)t(r[i],i,r)},0===i?0:i||1),e}}(e.TIB=function(e,r){function D(){var t=g("span"),n=r.classes;w=g("span"),w[a]("contenteditable","true"),w[a]("spellcheck","false"),w[a]("data-placeholder",e.placeholder),e.type="hidden",e[d]+=" "+n[1],t[d]=n[0],t[l]='<span class="'+n[2]+'"></span>',t.onclick=function(){w.focus()},e[i].insertBefore(t,e),t[c](e),t[c](w),r.values===!0&&(r.values=e.value.split(r.join));for(v in r.values){var o=u.filter(r.values[v]);o&&u.set(o)}}function b(e){var t=u.filter(e);return u.reset(),t&&m(u.tags)!==r.max?t in u.tags?(r.alert&&alert(r.text[1].replace(/%s/g,t)),u.reset(),!1):(u.set(t).update(),!1):!1}r=r||{};var v,w,u=this,g=function(e){return t.createElement(e)},y={join:", ",max:9999,values:!0,classes:["tags","tags-input","tags-output"],text:["Remove “%s” Tag","Duplicate “%s” Tag"],alert:!0,update:function(){}};TIB[n][e.id||e.name||m(TIB[n])]=u,u.tags={},"string"==typeof r&&(r={join:r});for(v in y)p(r[v])||(r[v]=y[v]);return u.input=e,u.config=r,u.filter=function(e){return e.replace(new RegExp("["+r.join.replace(/\s/g,"")+"]|^\\s+|\\s+$|\\s{2,}","g"),"")[h]()},u.reset=function(){return w[f]="",u},u.set=function(t){var n=e.previousSibling,f=g("span"),d=g("a");return f[l]=t,d.title=r.text[0].replace(/%s/g,t),d[a]("data-tag",t),d.href="javascript:;",d.onclick=function(){return delete u.tags[this[o]("data-tag")],this[i][i][s](this[i]),u.update(),w.focus(),!1},f[c](d),n[c](f),u.tags[t]=1,u},u.update=function(){var e=Object.keys(u.tags).join(r.join);return w&&(w.value=e),r.update(u.tags),u},u.create=function(){return D(),u.reset(),w.onkeydown=function(t){var r,n=e.previousSibling,r=n.lastChild,i=t.keyCode,a=(t.key||"")[h](),c=this[f],l=t.shiftKey;if(!(c||"backspace"!==a&&8!==i)){if(r){var d=r.children[0][o]("data-tag");n[s](r),delete u.tags[d]}return u.update(),!1}return","===a||!l&&188===i?b(c):"enter"===a||13===i?(b(c),!0):u},w.onblur=function(){return b(this[f])},u.update()},u.output=w,u})}(window,document);