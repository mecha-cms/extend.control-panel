!function(e,t){function d(e){return"undefined"!=typeof e}function h(e){return Object.keys(e).length}var r="__instance__",n=setTimeout,i="parentNode",o="setAttribute",a="getAttribute",l="removeAttribute",s="appendChild",c="removeChild",u="className",f="toLowerCase";!function(e){e.version="2.0.1",e[r]={},e.each=function(t,i){return n(function(){var i,n=e[r];for(i in n)t(n[i],i,n)},0===i?0:i||1),e}}(e.TIB=function(e,n){function b(){var t=e,r=t.name,o=m("span"),a=n.classes;y=m("input"),y.name=r,y.type="hidden",t[l]("name"),t[u]+=" "+a[1],o[u]=a[0],o.innerHTML='<span class="'+a[2]+'"></span>',o.onclick=function(){e.focus()},t[i].insertBefore(o,t),o[s](t),o[s](y),n.values===!0&&(n.values=t.value.split(n.join));for(v in n.values){var c=p.filter(n.values[v]);c&&p.set(c)}}function x(e){var t=p.filter(e);return p.reset(),t&&h(p.tags)!==n.max?t in p.tags?(alert(n.text[1].replace(/%s/g,t)),p.reset(),!1):(p.set(t).update(),!1):!1}n=n||{};var v,y,p=this,m=function(e){return t.createElement(e)},g={join:", ",max:9999,values:!0,classes:["tags","tags-input","tags-output"],text:["Remove “%s” Tag","Duplicate “%s” Tag"],update:function(){}};TIB[r][e.id||e.name||h(TIB[r])]=p,p.tags={},"string"==typeof n&&(n={join:n});for(v in g)d(n[v])||(n[v]=g[v]);return p.input=e,p.config=n,p.filter=function(e){return e.replace(new RegExp("["+n.join.replace(/\s/g,"")+"]|^\\s+|\\s+$|\\s{2,}","g"),"")[f]()},p.reset=function(){return e.value="",p},p.set=function(t){var r=e.previousSibling,l=m("span"),u=m("a");return l.innerHTML=t,u.title=n.text[0].replace(/%s/g,t),u[o]("data-tag",t),u.href="javascript:;",u.onclick=function(){return delete p.tags[this[a]("data-tag")],this[i][i][c](this[i]),p.update(),e.focus(),!1},l[s](u),r[s](l),p.tags[t]=1,p},p.update=function(){var e=Object.keys(p.tags).join(n.join);return y&&(y.value=e),n.update(p.tags),p},p.create=function(){b(),p.reset();var t=m("div");return t.style.cssText="font:inherit;white-space:pre;width:auto;position:absolute;top:0;left:0;visibility:hidden;",e[i][s](t),t[u]=e[u],e.onkeydown=function(r){var o,n=this,i=e.previousSibling,o=i.lastChild,l=r.keyCode,s=(r.key||"")[f](),u=n.value,d=r.shiftKey;if(t.textContent=u,n.style.width=t.offsetWidth+"px",!(u||"backspace"!==s&&8!==l)){if(o){var h=o.children[0][a]("data-tag");i[c](o),delete p.tags[h]}return p.update(),!1}return","===s||!d&&188===l?x(u):"enter"===s||13===l?(x(u),!0):p},e.onblur=function(){return x(this.value)},p.update()},p.output=y,p})}(window,document);