!function(n,t){function O(n,t){return n[y].contains(t)}function Y(n,t){n[y].add(t)}function _(n,t){n[y].remove(t)}function A(n,t){[].forEach.call(n,t)}function B(n,t,e,r){n[s](t,e,r)}function C(n,t,e,r){n[l](t,e,r)}var e="className",r="createElement",i="format",a="target",o="config",u="value",f="languages",c="parentNode",s="addEventListener",l="removeEventListener",d="appendChild",m="removeChild",h="replaceChild",p="innerHTML",y="classList",v="destroy",g="nodeName",p="innerHTML",D="currentDayView",w="currentMonthView",T="currentYearView",b="selectedDate",M="day",N="days",F="month",E="months",x="year",S="current",k="getFullYear",W="getTime",L="getDay",j="getMonth",I="getDate",a="target",J="long",H="short";n.TP=function(n,s){var $,G,K,Q,R,X,Z,nn,tn,en,rn,an,on,un,fn,cn,sn,ln,dn,l=this,y={format:"F j, Y",min:null,max:null,languages:{days:{"short":["S","M","T","W","T","F","S"],"long":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{"short":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"long":["January","February","March","April","May","June","July","August","September","October","November","December"]},DIM:[31,28,31,30,31,30,31,31,30,31,30,31],FDOW:0}},q=t[r]("span"),V=t[r]("span"),P=t[r]("table"),U=t[r]("tbody"),z=new Date;q[e]="time-picker",s=s||{},G=function(){$=t[r]("div"),$[e]="time-picker-target",l[a][c].insertBefore($,l[a]),$[d](l[a])},K={current:{year:function(){return z[k]()},month:{i:function(){return z[j]()},s:function(n){var t=z[j]();return R(t,n)}},day:function(){return z[I]()}},month:{s:function(){return R(l[w])},i:function(){return 1===l[w]&&(l[T]%4===0&&l[T]%100!==0||l[T]%400===0)?29:l[o][f].DIM[l[w]]}}},Q=function(n,t){var e="",r=new Date(t),i={d:function(){var n=i.j();return 10>n?"0"+n:n},D:function(){return l[o][f][N][H][i.w()]},j:function(){return r[I]()},l:function(){return l[o][f][N][J][i.w()]},w:function(){return r[L]()},F:function(){return R(i.n()-1,0)},m:function(){var n=i.n();return 10>n?"0"+n:n},M:function(){return R(i.n()-1,1)},n:function(){return r[j]()+1},U:function(){return r[W]()/1e3},y:function(){return String(i.Y()).substring(2)},Y:function(){return r[k]()}},a=n.split("");return A(a,function(n,t){i[n]&&"\\"!==a[t-1]?e+=i[n]():"\\"!==n&&(e+=n)}),e},R=function(n,t){return t?l[o][f][E][H][n]:l[o][f][E][J][n]},X=function(n,t,e,r){return n===r&&l[w]===t&&l[T]===e},Z=function(){var n=t[r]("thead"),e=l[o][f].FDOW,i=l[o][f][N][H];e>0&&e<i.length&&(i=[].concat(i.splice(e,i.length),i.splice(0,e))),n[p]="<tr><th>"+i.join("</th><th>")+"</th></tr>",P[d](n)},nn=function(){var u,c,y,n=new Date(l[T],l[w],1)[L](),e=K[F].i(),i=t.createDocumentFragment(),a=t[r]("tr"),s="",m="",h="";for(n-=l[o][f].FDOW,0>n&&(n+=7),u=n,U[p]="",c=0;n>c;c++)a[p]+="<td>&nbsp;</td>";for(c=1;e>=c;c++)7===u&&(i[d](a),a=t[r]("tr"),u=0),s=X(K[S][M](),K[S][F].i(),K[S][x](),c)?" today":"",l[b]&&(m=X(l[b][M],l[b][F],l[b][x],c)?" active":""),(l[o].min||l[o].max)&&(y=new Date(l[T],l[w],c)[W](),h="",l[o].min&&y<l[o].min&&(h=" x"),l[o].max&&y>l[o].max&&(h=" x")),a[p]+='<td class="'+s+m+h+' day">'+c+"</td>",u++;for(c=0;7-u>c;c++)a[p]+="<td>&nbsp;</td>";i[d](a),U[d](i)},tn=function(){V[p]=K[F].s()+" "+l[T]},en=function(){var e,n=t[r]("caption");e='<a href="javascript:;" class="_p"></a>',e+='<a href="javascript:;" class="_n"></a>',n[p]=e,n[d](V),tn(),P[d](n)},rn=function(){l[w]<0&&(l[T]--,l[w]=11),l[w]>11&&(l[T]++,l[w]=0)},an=function(n){var t;if(n[a]!==l[a]&&n[a]!==$&&(t=n[a][c],t!==$))for(;t!==$;)if(t=t[c],null===t){ln();break}},on=function(n){var f,t=n[a],r=t[e];r&&("_p"===r||"_n"===r?("_p"===r?l[w]--:l[w]++,rn(),tn(),nn()):"TD"!==t[g]||O(t,"x")||(l[b]={day:parseInt(t[p],10),month:l[w],year:l[T]},f=new Date(l[T],l[w],l[b][M])[W](),l[a][u]=Q(l[o][i],f),ln(),nn()))},un=function(){en(),Z(),nn(),P[d](U),q[d](P),$[d](q)},fn=function(){return"INPUT"===l[a][g]?"focus":"click"},cn=function(){B(l[a],fn(),sn),B(q,"click",on)},sn=function(){B(t,"click",an),Y($,"active");var n=t.documentElement,e="offset";$[e+"Top"]+$[e+"Height"]+q[e+"Height"]>n[e+"Height"]?Y($,"top"):_($,"top"),$[e+"Left"]+$[e+"Width"]+q[e+"Width"]>n[e+"Width"]?Y($,"left"):_($,"left")},ln=function(){C(t,"click",an),_($,"active")},dn=function(){var n,e;C(t,"click",an),C(l[a],fn(),sn),n=l[a][c],n[m](q),e=n[m](l[a]),n[c][h](e,n)};var hn,pn;return pn=function(n,t){n=n||{};for(var e in t)"object"==typeof t[e]?n[e]=pn(n[e],t[e]):n[e]=t[e];return n},l[o]=pn(y,s),l[a]=n,l[v]=dn,l[a][u]&&(hn=Date.parse(l[a][u])),hn&&!isNaN(hn)?(hn=new Date(hn),l[b]={day:hn[I](),month:hn[j](),year:hn[k]()},l[T]=l[b][x],l[w]=l[b][F],l[D]=l[b][M]):(l[b]=null,l[T]=K[S][x](),l[w]=K[S][F].i(),l[D]=K[S][M]()),G(),un(),cn(),l}}(window,document);