!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],e):e(CodeMirror)}(function(e){var t=0,n=1,r=2;e.defineMode("yaml-frontmatter",function(a,o){function f(e){return e.state==r?s:i}var i=e.getMode(a,"yaml"),s=e.getMode(a,o&&o.base||"gfm");return{startState:function(){return{state:t,inner:e.startState(i)}},copyState:function(t){return{state:t.state,inner:e.copyState(f(t),t.inner)}},token:function(a,o){if(o.state==t)return a.match(/---/,!1)?(o.state=n,i.token(a,o.inner)):(o.state=r,o.inner=e.startState(s),s.token(a,o.inner));if(o.state==n){var f=a.sol()&&a.match(/[.-]{3}/),u=i.token(a,o.inner);return f&&(o.state=r,o.inner=e.startState(s)),u}return s.token(a,o.inner)},innerMode:function(e){return{mode:f(e),state:e.inner}},blankLine:function(e){var t=f(e);return t.blankLine?t.blankLine(e.inner):void 0}}})});