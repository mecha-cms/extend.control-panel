!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","markdown",function(t,r){function n(r){var i=t.getTokenTypeAt(e.Pos(r,0));return i&&/\bheader\b/.test(i)}function o(e,t,r){var o=t&&t.match(/^#+/);return o&&n(e)?o[0].length:(o=r&&r.match(/^[=\-]+\s*$/),o&&n(e+1)?"="==r[0]?1:2:i)}var i=100,a=t.getLine(r.line),l=t.getLine(r.line+1),s=o(r.line,a,l);if(s===i)return void 0;for(var c=t.lastLine(),u=r.line,f=t.getLine(u+2);c>u&&!(o(u+1,l,f)<=s);)++u,l=f,f=t.getLine(u+2);return{from:e.Pos(r.line,a.length),to:e.Pos(u,t.getLine(u).length)}})});