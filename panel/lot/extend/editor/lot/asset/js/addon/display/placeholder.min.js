!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function r(e){t(e);var r=e.state.placeholder=document.createElement("pre");r.style.cssText="height: 0; overflow: visible",r.className="CodeMirror-placeholder";var i=e.getOption("placeholder");"string"==typeof i&&(i=document.createTextNode(i)),r.appendChild(i),e.display.lineSpace.insertBefore(r,e.display.lineSpace.firstChild)}function i(e){a(e)&&r(e)}function n(e){var i=e.getWrapperElement(),n=a(e);i.className=i.className.replace(" CodeMirror-empty","")+(n?" CodeMirror-empty":""),n?r(e):t(e)}function a(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(r,a,o){var l=o&&o!=e.Init;if(a&&!l)r.on("blur",i),r.on("change",n),r.on("swapDoc",n),n(r);else if(!a&&l){r.off("blur",i),r.off("change",n),r.off("swapDoc",n),t(r);var s=r.getWrapperElement();s.className=s.className.replace(" CodeMirror-empty","")}a&&!r.hasFocus()&&i(r)})});