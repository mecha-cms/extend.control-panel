!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t){t.state.rulerDiv.textContent="";var r=t.getOption("rulers"),i=t.defaultCharWidth(),n=t.charCoords(e.Pos(t.firstLine(),0),"div").left;t.state.rulerDiv.style.minHeight=t.display.scroller.offsetHeight+30+"px";for(var a=0;a<r.length;a++){var o=document.createElement("div");o.className="CodeMirror-ruler";var l,s=r[a];"number"==typeof s?l=s:(l=s.column,s.className&&(o.className+=" "+s.className),s.color&&(o.style.borderColor=s.color),s.lineStyle&&(o.style.borderLeftStyle=s.lineStyle),s.width&&(o.style.borderLeftWidth=s.width)),o.style.left=n+l*i+"px",t.state.rulerDiv.appendChild(o)}}e.defineOption("rulers",!1,function(e,r){e.state.rulerDiv&&(e.state.rulerDiv.parentElement.removeChild(e.state.rulerDiv),e.state.rulerDiv=null,e.off("refresh",t)),r&&r.length&&(e.state.rulerDiv=e.display.lineSpace.parentElement.insertBefore(document.createElement("div"),e.display.lineSpace),e.state.rulerDiv.className="CodeMirror-rulers",t(e),e.on("refresh",t))})});